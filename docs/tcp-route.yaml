kind: TCPRoute
description: TCPRoute provides a way to route TCP requests. When combined
  with a Gateway listener, it can be used to forward connections on the port
  specified by the listener to a set of backends specified by the TCPRoute.
version: gateway.networking.k8s.io/v1alpha2
scope: Namespaced
fields:
  - name: parentRefs
    type: array<object>
    description: "ParentRefs references the resources (usually Gateways)
      that a Route wants to be attached to. Note that the referenced parent
      resource needs to allow this for the attachment to be complete.
      For Gateways, that means the Gateway needs to allow attachment from
      Routes of this kind and namespace. \n The only kind of parent resource
      with \"Core\" support is Gateway. This API may be extended in the
      future to support additional kinds of parent resources such as one
      of the route kinds. \n It is invalid to reference an identical parent
      more than once. It is valid to reference multiple distinct sections
      within the same parent resource, such as 2 Listeners within a Gateway.
      \n It is possible to separately reference multiple distinct objects
      that may be collapsed by an implementation. For example, some implementations
      may choose to merge compatible Gateway Listeners together. If that
      is the case, the list of routes attached to those resources should
      also be merged."
    items:
      description: "ParentReference identifies an API object (usually
        a Gateway) that can be considered a parent of this resource (usually
        a route). The only kind of parent resource with \"Core\" support
        is Gateway. This API may be extended in the future to support
        additional kinds of parent resources, such as HTTPRoute. \n The
        API object must be valid in the cluster; the Group and Kind must
        be registered in the cluster for this reference to be valid."
      fields:
        - name: group
          supported: false
        - name: kind
          supported: false
        - name: name
          type: string
          description: "Name is the name of the referent. \n Support: Core"
        - name: namespace
          type: string
          description: "Namespace is the namespace of the referent. When
            unspecified (or empty string), this refers to the local namespace
            of the Route. \n Support: Core"
        - name: sectionName
          type: string
          description: "SectionName is the name of a section within the
            target resource. In the following resources, SectionName is
            interpreted as the following: \n * Gateway: Listener Name.
            When both Port (experimental) and SectionName are specified,
            the name and port of the selected listener must match both
            specified values. \n Implementations MAY choose to support
            attaching Routes to other resources. If that is the case,
            they MUST clearly document how SectionName is interpreted.
            \n When unspecified (empty string), this will reference the
            entire resource. For the purpose of status, an attachment
            is considered successful if at least one section in the parent
            resource accepts it. For example, Gateway listeners can restrict
            which Routes can attach to them by Route kind, namespace,
            or hostname. If 1 of 2 Gateway listeners accept attachment
            from the referencing Route, the Route MUST be considered successfully
            attached. If no Gateway listeners accept attachment from this
            Route, the Route MUST be considered detached from the Gateway.
            \n Support: Core"
  - name: rules
    type: array<object>
    description: Rules are a list of TCP matchers and actions.
    items:
      description: TCPRouteRule is the configuration for a given rule.
      fields:
        - name: backendRefs
          type: array<object>
          description: "BackendRefs defines the backend(s) where matching
            requests should be sent. If unspecified or invalid (refers
            to a non-existent resource or a Service with no endpoints),
            the underlying implementation MUST actively reject connection
            attempts to this backend. Connection rejections must respect
            weight; if an invalid backend is requested to have 80% of
            connections, then 80% of connections must be rejected instead.
            \n Support: Core for Kubernetes Service Support: Custom for
            any other resource \n Support for weight: Extended"
          items:
            description: "BackendRef defines how a Route should forward
              a request to a Kubernetes resource. \n Note that when a
              namespace is specified, a ReferencePolicy object is required
              in the referent namespace to allow that namespace's owner
              to accept the reference. See the ReferencePolicy documentation
              for details."
            fields:
              - name: group
                type: string
                default: ""
                description: Group is the group of the referent. For example,
                  "networking.k8s.io". When unspecified (empty string),
                  core API group is inferred.
              - name: kind
                type: string
                default: Service
                description: Kind is kind of the referent. For example
                  "HTTPRoute" or "Service". Defaults to "Service" when
                  not specified.
              - name: name
                type: string
                description: Name is the name of the referent.
              - name: namespace
                type: string
                description: "Namespace is the namespace of the backend.
                  When unspecified, the local namespace is inferred. \n
                  Note that when a namespace is specified, a ReferencePolicy
                  object is required in the referent namespace to allow
                  that namespace's owner to accept the reference. See
                  the ReferencePolicy documentation for details. \n Support:
                  Core"
              - name: port
                type: integer
                description: Port specifies the destination port number
                  to use for this resource. Port is required when the
                  referent is a Kubernetes Service. For other resources,
                  destination port might be derived from the referent
                  resource or this field.
              - name: weight
                type: integer
                default: 1
                description: "Weight specifies the proportion of requests
                  forwarded to the referenced backend. This is computed
                  as weight/(sum of all weights in this BackendRefs list).
                  For non-zero values, there may be some epsilon from
                  the exact proportion defined here depending on the precision
                  an implementation supports. Weight is not a percentage
                  and the sum of weights does not need to equal 100. \n
                  If only one backend is specified and it has a weight
                  greater than 0, 100% of the traffic is forwarded to
                  that backend. If weight is set to 0, no traffic should
                  be forwarded for this entry. If unspecified, weight
                  defaults to 1. \n Support for this field varies based
                  on the context where used."